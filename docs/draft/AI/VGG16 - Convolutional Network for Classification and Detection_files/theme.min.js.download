!function(t){"use strict";function e(){var t=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,e=navigator.userAgent.toLowerCase().indexOf("opera")>-1,i=navigator.userAgent.toLowerCase().indexOf("msie")>-1;(t||e||i)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t,e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1)}function i(t,e,i){for(var n=0;n<t.length;n++)e.call(i,t[n],n)}function n(t,e){var i=null,n=[];return e?(t.id?n=document.querySelectorAll("#"+t.id+">"+e):(i=t.tagName.toLowerCase()+"-"+Math.floor(65536*(1+Math.random())).toString(16).substring(1)+"-"+Date.now(),t.setAttribute("id",i),n=document.querySelectorAll("#"+t.id+">"+e),t.removeAttribute("id")),Array.prototype.slice.call(n)):t.children}function o(t){var e=t.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+n,left:e.left+i}}function a(t,e){var i,n,o,a,s={width:t.offsetWidth,height:t.offsetHeight},l=getComputedStyle(t,null);return e?(i=parseFloat(l.getPropertyValue("margin-top")),n=parseFloat(l.getPropertyValue("margin-right")),o=parseFloat(l.getPropertyValue("margin-bottom")),a=parseFloat(l.getPropertyValue("margin-left")),s.width=Number((s.width+a+n).toFixed(10)),s.height=Number((s.height+i+o).toFixed(10)),s):s}function s(){if(this.fnSetupProps(),this.el&&this.wrap){var t=this;t.resizeTimeout=200,t.fnCalc(),t.onScroll=t.fnScroll.bind(t),window.addEventListener("scroll",t.onScroll),window.addEventListener("resize",t.fnResize.bind(t)),clearTimeout(t.resizeTimeout)}}function l(){this.header=document.getElementById("masthead"),this.nav=document.getElementById("site-navigation"),this.mainMenu=document.getElementById("primary-menu"),this.sideMenu=document.getElementById("side-menu"),this.footer=document.getElementById("colophon"),"function"==typeof imagesLoaded&&(this.header&&this.mainMenu&&(this.fnMainMenu(),this.fnMainMenuFixed()),this.sideMenu&&this.fnSideMenu(),this.fnAriaControls(),t.fn.fitVids&&t("#page").fitVids(),t.fn.owlCarousel&&this.fnCarousels(),this.fnBackToTop(),document.body.addEventListener("click",this._fnBodyClickHandler.bind(this)),document.body.addEventListener("keyup",this._fnBodyKeyUpHandler.bind(this)))}var r,d=!1,c=0;document.addEventListener("DOMContentLoaded",function(){d=!!document.querySelector("[customize-partial-id]"),c=window.innerWidth-t(window).width(),r=document.getElementById("wpadminbar"),e(),t.fn.fitVids&&t("#page").fitVids();new l;"true"==t("#page").attr("data-jpk-infinite")&&t(document.body).on("post-load",function(e,i){"success"==i.type&&t.fn.fitVids&&t("#page").fitVids()})}),window.addEventListener("load",function(){new s}),s.prototype.fnSetupProps=function(){var t=document.getElementById("secondary"),e=document.getElementById("site-navigation");this.el=null,this.wrap=null,this.fixedNavH=0,t&&(this.wrap=t.parentNode,this.el=document.querySelector('#secondary [data-role="mainsidebar"]')),"true"===e.getAttribute("data-fixed")&&(this.fixedNavH=a(e).height)},s.prototype.fnCalc=function(){var t=a(this.el,!0);this.width=t.width,this.height=t.height,this.offset=Math.abs(o(this.wrap).top-o(this.el).top),this.lastWinPos=window.pageYOffset,this.top=this.bot=!1,this.stop=!1,this.adminBarH=0,r&&"fixed"===getComputedStyle(r).position&&(this.adminBarH=a(r).height)},s.prototype.fnResize=function(){var t=this;clearTimeout(t.resizeTimeout),t.resizeTimeout=setTimeout(function(){var e={width:t.el.style.width,position:t.el.style.position,top:t.el.style.top,bot:t.el.style.bottom};t.el.style.width="",t.el.style.position="",t.el.style.top="",t.el.style.bottom="",t.fnCalc(),e.width&&(t.el.style.width=t.width+"px"),e.position&&(t.el.style.position=e.position),e.top&&(t.el.style.top=e.top),e.bottom&&(t.el.style.bottom=e.bottom)},200)},s.prototype.fnScroll=function(t){if(window.innerWidth<980)return this.el.style.position="",this.el.style.top="",this.el.style.bottom="",void(this.el.style.width="");var e,i,n,s,l,r,d;(i=window.pageYOffset)===this.lastWinPos&&t||(n=o((e=this).el).top,l=(s=o(e.wrap).top-e.fixedNavH)+a(e.wrap).height+e.fixedNavH,d=r=window.innerHeight,e.height<d&&(d=e.height+e.fixedNavH+e.adminBarH),i+e.adminBarH>s&&i+d<l?(e.stop=!1,i>e.lastWinPos?e.top?(e.top=!1,e.height+e.offset>r&&(e.el.style.width="",e.el.style.position="relative",n>s+e.offset?e.el.style.top=n-s-e.offset+"px":e.el.style.top=s+"px",e.el.style.bottom="")):!e.bot&&i+r>n+e.height&&(e.bot=!0,e.el.style.width=e.width+"px",e.el.style.position="fixed",e.height+e.offset>r?(e.el.style.top="",e.el.style.bottom="0"):(e.el.style.top=e.offset+e.adminBarH+e.fixedNavH+"px",e.el.style.bottom="")):i<e.lastWinPos&&(e.bot?(e.bot=!1,"fixed"==e.el.style.position&&(e.el.style.width="",e.el.style.position="relative",n>s+e.fixedNavH+e.offset?e.el.style.top=n-s-e.fixedNavH-e.offset+"px":e.el.style.top=s+e.fixedNavH+e.offset+"px"),e.el.style.bottom=""):!e.top&&i+e.offset+e.fixedNavH+e.adminBarH<=n&&(e.top=!0,e.el.style.width=e.width+"px",e.el.style.position="fixed",e.el.style.top=e.offset+e.adminBarH+e.fixedNavH+"px",e.el.style.bottom=""))):e.stop||(e.stop=!0,i+e.adminBarH<=s?(e.top=!1,e.bot=!1,e.el.style.width="",e.el.style.position="",e.el.style.top="",e.el.style.bottom=""):i+d>=l&&(e.top=!1,e.bot=!0,e.el.style.width="",e.el.style.position="relative",e.el.style.top=l-s-e.height-e.offset-e.fixedNavH+"px",e.el.style.bottom="")),e.lastWinPos=i)},l.prototype.fnMainMenu=function(){var t=this,e=this.mainMenu.querySelectorAll("li.menu-item");t._onMainMenuLinkClick||(t._onMainMenuLinkClick=t._fnMainMenuLinkClickHandler.bind(t)),i(e,function(e,i){var s=e.firstElementChild,l=n(e,"ul");for(s.setAttribute("data-touch","false"),s.addEventListener("click",t._onMainMenuLinkClick),l.length&&e.addEventListener("mouseenter",t._fnMainMenuItemHoverHandler);l.length;)(l=l[0]).classList.contains("oposite")||o(l).left+a(l).width>window.innerWidth&&l.classList.add("oposite"),l=n(l,"li > ul")})},l.prototype._fnMainMenuLinkClickHandler=function(t){var e=t.target.closest("a");e.parentNode;if(!d);},l.prototype._fnMainMenuItemHoverHandler=function(t){var e=n(this,"ul");e.length&&((e=e[0]).classList.contains("oposite")||o(e).left+a(e).width>window.innerWidth&&e.classList.add("oposite"))},l.prototype.fnMainMenuFixed=function(){var e,i,n,s,l,d,c,u,f,p=this,h=0,m=!1,v=!0;n="true"===p.nav.getAttribute("data-fixed"),s="true"===p.nav.getAttribute("data-fixed-mobile"),(n||s)&&(c=function(){e=a(p.nav).height,l=o(p.nav).top,d=t(window).scrollTop(),(i=document.createElement("div")).style.display="none",i.style.height=e+"px",p.nav.parentNode.insertBefore(i,p.nav)},u=function(){var e=t(window).scrollTop(),o=0;m&&(o=h),e>l-o?("none"===i.style.display&&(n&&p.nav.classList.add("fixed-big"),s&&p.nav.classList.add("fixed-small"),i.style.display="block"),v&&(p.nav.style.top=o+"px"),e>=d?p.nav.classList.contains("activating")||(p.nav.classList.add("activating"),p.nav.classList.remove("activated")):p.nav.classList.contains("activated")||(p.nav.classList.add("activated"),p.nav.classList.remove("activating"))):(p.nav.classList.remove("fixed-big"),p.nav.classList.remove("fixed-small"),p.nav.style.top="",i.style.display="none",p.nav.classList.remove("activated")),d=t(window).scrollTop()},f=function(){r&&(m="fixed"===getComputedStyle(r).position,h!=a(r).height&&(v=!0),h=a(r).height)},imagesLoaded(p.header,function(){c(),f(),u(),window.addEventListener("scroll",u),window.addEventListener("resize",f)}))},l.prototype.fnSideMenu=function(){var e,n=this.sideMenu.querySelectorAll("li.menu-item > a");e=function(e){var i=t(this).next("ul");i.is(":visible")?(i.slideUp(240),t(this).parent().removeClass("hover")):(i.slideDown(240),t(this).parent().addClass("hover"))},i(n,function(t){if(t.nextElementSibling&&"UL"===t.nextElementSibling.tagName){var i=document.createElement("span");i.setAttribute("class","submenu-toggle"),t.parentNode.insertBefore(i,t.nextElementSibling),i.addEventListener("click",e)}})},l.prototype.fnAriaControls=function(){var t=this;document.querySelectorAll("[aria-controls]").forEach(function(e){e.addEventListener("click",t._fnAriaControlClickHandler.bind(t,e))})},l.prototype._fnAriaControlClickHandler=function(t,e){var n,o=document.getElementById(t.getAttribute("aria-controls"));o&&(n=document.querySelectorAll('[aria-controls="'+t.getAttribute("aria-controls")+'"]'),"true"==t.getAttribute("aria-expanded")?(t.setAttribute("aria-expanded","false"),t.classList.remove("active"),o.setAttribute("aria-expanded","false"),o.classList.remove("active"),document.body.classList.remove(t.getAttribute("aria-controls")+"-active"),i(n,function(t){t.setAttribute("aria-expanded","false"),t.classList.remove("active")})):(t.setAttribute("aria-expanded","true"),t.classList.add("active"),o.setAttribute("aria-expanded","true"),o.classList.add("active"),document.body.classList.add(t.getAttribute("aria-controls")+"-active"),i(n,function(t){t.setAttribute("aria-expanded","true"),t.classList.add("active")})),t.blur())},l.prototype._fnProcessCarousel=function(e){var i=e.data("options"),n=t.extend({nav:!0,navText:['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>'],dots:!1,smartSpeed:500,autoHeight:!0},i);t.fn.imagesLoaded?e.imagesLoaded(function(){e.owlCarousel(n)}):e.owlCarousel(n)},l.prototype.fnCarousels=function(){var e,i=this;t('.carousel[data-theme-carousel="true"]').each(function(){i.fnProcessCarousel(t(this))}),e=function(){t('.carousel[data-full-carousel="true"]').each(function(){var e=t(this).children(".owl-stage-outer"),i=e.children(".owl-stage");i.children().css({height:""}),e.css({"margin-left":"","margin-right":""}),i.css({"margin-left":""});var n=e.offset().left,o=(e.width(),(i.children(".owl-item.active").length+2)*i.children(".owl-item.active").first().width());window.innerWidth>o&&(n=i.children(".owl-item.active").width()),e.width()<window.innerWidth&&(e.css({"margin-left":-n+"px","margin-right":-n+"px"}),i.css({"margin-left":n+"px"}),i.children().css({height:i.outerHeight()}))})},t.fn.imagesLoaded?t('.carousel[data-full-carousel="true"]').imagesLoaded(function(){e()}):e(),t(window).on("resize",function(){e()})},l.prototype.fnProcessCarousel=function(e){var i=e.data("options"),n=t.extend({nav:!0,navText:['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>'],dots:!1,smartSpeed:500,autoHeight:!0},i);t.fn.imagesLoaded?e.imagesLoaded(function(){e.owlCarousel(n)}):e.owlCarousel(n)},l.prototype.fnBackToTop=function(){var e=document.getElementById("backtotop"),i=t(window).scrollTop();e&&(e.addEventListener("click",function(e){t("html, body").stop().animate({scrollTop:0},1500,"swing")}),window.addEventListener("scroll",function(){var n=t(window).scrollTop();n>480?n>=i?e.classList.contains("active")&&e.classList.remove("active"):e.classList.contains("active")||e.classList.add("active"):e.classList.remove("active"),i=t(window).scrollTop()}))},l.prototype._fnBodyClickHandler=function(t){var e=t.target,n=this;e.closest("#primary-menu")&&"primary-menu"!==e.getAttribute("id")||(i(n.mainMenu.querySelectorAll('a[data-touch="true"]'),function(t){t.setAttribute("data-touch","false")}),i(n.mainMenu.querySelectorAll(".menu-item.hover"),function(t){t.classList.remove("hover")})),t.target.closest('[aria-expanded="true"]')||t.target.hasAttribute("aria-expanded")||i(document.querySelectorAll('[aria-expanded="true"]'),function(t){t.id&&(i(document.querySelectorAll('[aria-controls="'+t.id+'"]'),function(t){t.setAttribute("aria-expanded","false"),t.classList.remove("active")}),t.setAttribute("aria-expanded","false"),t.classList.remove("active"),document.body.classList.remove(t.id+"-active"))})},l.prototype._fnBodyKeyUpHandler=function(t){27!=t.keyCode||document.activeElement&&"BODY"!==document.activeElement.tagName||i(document.querySelectorAll('[aria-expanded="true"]'),function(t){t.id&&(i(document.querySelectorAll('[aria-controls="'+t.id+'"]'),function(t){t.setAttribute("aria-expanded","false"),t.classList.remove("active")}),t.setAttribute("aria-expanded","false"),t.classList.remove("active"),document.body.classList.remove(t.id+"-active"))})}}(jQuery);
